# config.yaml

# Device configuration
device: cuda  # Will be overridden by Python code

# Training parameters
training:
  kfolds: 1
  batch_size: 64
  num_epochs: 1024
  num_workers: 0
  accumulation_steps: 5
  learning_rate: 0.0001
  test_frac: 0.2
  early_stopping_patience: 1024

# Model architecture
model:
  name: "FNO"
  architecture: "FNO"
  class_name: "FNOnet"
  n_layers: 4
  n_modes_x: 72
  n_modes_y: 199
  hidden_channels: 6
  lifting_channels: 62
  projection_channels: 51

# Data configuration
data:
  file_name: "data/noise.hdf5"
  normalize: [true, false]
  numpoints_x: 401
  numpoints_y: 11
  variables:
    - F
    - H
    - Q
    - S
    - U
    - V
  variable_units:
    - "dimensionless"
    - "m"
    - "m3s-1"
    - "m"
    - "ms-1"
    - "ms-1"
  parameters:
    - H0
    - Q0
    - SLOPE
    - n

seed: 43

logging:
  use_wandb: true
  plot_enabled: false

optuna:
  study_name: "study4"
  n_trials: 200
  base_storage_path: "sqlite:///studies/"
  hyperparameter_space:
    learning_rate:
      type: "float"
      low: 0.000001
      high: 0.001
      log: true
    batch_size:
      type: "int"
      low: 16
      high: 512
    accumulation_steps:
      type: "int"
      low: 1
      high: 1
    n_layers:
      type: "int"
      low: 1
      high: 32
    hidden_channels:
      type: "int"
      low: 1
      high: 64
    n_modes_x:
      type: "int"
      low: 1
      high: 200
    n_modes_y:
      type: "int"
      low: 1
      high: 200
    lifting_channels:
      type: "int"
      low: 1
      high: 32
    projection_channels:
      type: "int"
      low: 1
      high: 32

# API Keys (to be set via environment variables)
api_keys:
  wandb: ${WANDB_API_KEY}
